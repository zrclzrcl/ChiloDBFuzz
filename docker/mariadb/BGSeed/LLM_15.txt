SET sql_mode = 'STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';
CREATE TABLE fuzz_test_table (
    id INT PRIMARY KEY AUTO_INCREMENT,
    data VARCHAR(255) NULL,
    num INT DEFAULT 0,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

INSERT INTO fuzz_test_table (data, num) VALUES
('test string 1', 10),
('test string 2', 20),
('test string 3', 30);

SELECT * FROM fuzz_test_table WHERE num > 15;

UPDATE fuzz_test_table SET data = 'updated string' WHERE id = 1;

DELETE FROM fuzz_test_table WHERE num < 15;

CREATE TABLE spatial_data (
    id INT PRIMARY KEY AUTO_INCREMENT,
    geom GEOMETRY NOT NULL SRID 4326
);

INSERT INTO spatial_data (geom) VALUES
(ST_GeomFromText('POINT(30 10)', 4326)),
(ST_GeomFromText('POINT(60 20)', 4326));

SELECT ST_AsText(geom) FROM spatial_data;

CREATE FUNCTION custom_add(a INT, b INT) RETURNS INT DETERMINISTIC
RETURN a + b;

SELECT custom_add(5, 3);

CREATE PROCEDURE simple_procedure (IN input_value INT)
BEGIN
    SELECT * FROM fuzz_test_table WHERE num > input_value;
END;

CALL simple_procedure(25);

CREATE VIEW my_view AS
SELECT id, data FROM fuzz_test_table WHERE num > 0;

SELECT * FROM my_view;

ALTER TABLE fuzz_test_table ADD COLUMN new_column TEXT;

INSERT INTO fuzz_test_table (new_column) VALUES (REPEAT('A', 1024));

CREATE TABLE `json_test` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `json_data` json DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

INSERT INTO `json_test` (`json_data`) VALUES
('{"name": "John", "age": 30, "city": "New York"}'),
('{"product": "Laptop", "price": 1200, "features": ["fast", "lightweight"]}');

SELECT json_data->>"$.name" AS name FROM json_test;

CREATE TABLE fulltext_test (
    id INT PRIMARY KEY AUTO_INCREMENT,
    content TEXT,
    FULLTEXT (content)
);

INSERT INTO fulltext_test (content) VALUES
('This is a test sentence.'),
('Another sentence for testing fulltext search.');

SELECT * FROM fulltext_test WHERE MATCH (content) AGAINST ('test');

SHOW CREATE TABLE fuzz_test_table;

SHOW INDEX FROM fuzz_test_table;