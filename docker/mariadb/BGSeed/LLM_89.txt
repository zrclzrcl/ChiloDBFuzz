SET optimizer_switch='mrr_cost_based=off,batched_key_access=on,use_index_extensions=on';
CREATE TABLE test_table (
    id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
    value DECIMAL(10, 2) DEFAULT 0.00,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

INSERT INTO test_table (name, value) VALUES ('item1', 123.45), ('item2', 67.89);

CREATE TABLE test_json (
    id INT PRIMARY KEY AUTO_INCREMENT,
    data JSON
);

INSERT INTO test_json (data) VALUES ('{"key1": "value1", "key2": 123}');

CREATE OR REPLACE VIEW test_view AS
SELECT id, name, value FROM test_table WHERE value > 50;

SELECT * FROM test_view;

-- MariaDB specific feature: SEQUENCE
CREATE SEQUENCE my_sequence START WITH 1 INCREMENT BY 1 MAXVALUE 1000;
SELECT NEXT VALUE FOR my_sequence;

-- MariaDB specific feature: Virtual Column
ALTER TABLE test_table ADD COLUMN upper_name VARCHAR(255) GENERATED ALWAYS AS (UPPER(name)) VIRTUAL;

SELECT * FROM test_table;