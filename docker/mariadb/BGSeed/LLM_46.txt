SET @old_sql_mode=@@sql_mode, sql_mode='STRICT_ALL_TABLES,ERROR_FOR_DIVISION_BY_ZERO,NO_ZERO_DATE,NO_ZERO_IN_DATE,NO_AUTO_CREATE_USER';
SET optimizer_switch = 'condition_pushdown_for_derived=off';
CREATE TABLE t1 (a INT, b INT, c VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin, d JSON);
INSERT INTO t1 (a, b, c, d) VALUES (1, 10, 'abc', '{"key1": "value1"}'), (2, 20, 'def', '{"key2": "value2"}');
CREATE INDEX idx_a ON t1 (a);
ANALYZE TABLE t1;
WITH RECURSIVE cte AS (SELECT 1 AS n UNION ALL SELECT n + 1 FROM cte WHERE n < 5) SELECT * FROM cte;
ALTER TABLE t1 ADD COLUMN e TEXT AFTER d;
UPDATE t1 SET e = REPEAT('long_string', 10) WHERE a = 1;
SELECT a, b, c, d->'$.key1' FROM t1 WHERE a IN (SELECT a FROM t1 WHERE b > 15);
EXPLAIN SELECT * FROM t1 WHERE a = 1 AND b = 10;
CREATE PROCEDURE my_procedure(IN param1 INT) BEGIN SELECT * FROM t1 WHERE a > param1; END;
CALL my_procedure(1);
SHOW CREATE TABLE t1;
FLUSH STATUS;
SELECT SLEEP(0.1);
SET sql_mode=@old_sql_mode;
RESET QUERY CACHE;
SET GLOBAL slow_query_log = 'OFF';