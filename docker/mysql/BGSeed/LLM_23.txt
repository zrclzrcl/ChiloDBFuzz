SET @old_sql_mode=@@sql_mode, sql_mode='STRICT_ALL_TABLES';
SET @old_time_zone=@@session.time_zone;
SET time_zone = '+00:00';
/*!50503 set default_storage_engine = InnoDB */;
CREATE TABLE t1 (a INT, b VARCHAR(255), c TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, d JSON, e GEOMETRY);
INSERT INTO t1 (a, b, d) VALUES (1, 'test1', '{"key1": "value1", "key2": 123}');
INSERT INTO t1 (a, b, d) VALUES (2, 'test2', '{"key1": "value2", "key2": 456}');
INSERT INTO t1 (a, b, d) VALUES (3, 'test3', '{"key1": "value3", "key2": 789}');
SELECT * FROM t1 WHERE JSON_EXTRACT(d, '$.key2') > 100;
UPDATE t1 SET b = 'updated' WHERE a = 1;
ALTER TABLE t1 ADD COLUMN f ENUM('value1', 'value2', 'value3');
UPDATE t1 SET f = 'value1' WHERE a = 2;
CREATE INDEX idx_a ON t1 (a);
CREATE SPATIAL INDEX idx_e ON t1 (e);
CREATE TABLE t2 (id INT PRIMARY KEY AUTO_INCREMENT, data VARCHAR(255));
INSERT INTO t2 (data) VALUES ('data1'), ('data2'), ('data3');
CREATE VIEW v1 AS SELECT a, b FROM t1 WHERE a > 1;
SELECT * FROM v1;
CREATE PROCEDURE p1(IN input_a INT) BEGIN SELECT * FROM t1 WHERE a = input_a; END;
CALL p1(2);
CREATE FUNCTION f1(input_str VARCHAR(255)) RETURNS INT DETERMINISTIC RETURN LENGTH(input_str);
SELECT f1('test');
DELIMITER //
CREATE TRIGGER tr1 BEFORE INSERT ON t2 FOR EACH ROW BEGIN SET NEW.data = UPPER(NEW.data); END; //
DELIMITER ;
INSERT INTO t2 (data) VALUES ('lowercase');
SELECT * FROM t2;
CREATE TABLE t3 (ts TIMESTAMP(6) DEFAULT CURRENT_TIMESTAMP(6));
INSERT INTO t3 VALUES();
ALTER TABLE t3 ADD COLUMN point POINT SRID 0;
UPDATE t3 SET point = ST_GeomFromText('POINT(1 1)');
SELECT ST_AsText(point) FROM t3;
EXPLAIN SELECT * FROM t1 WHERE a = 2;
SHOW INDEX FROM t1;
SHOW CREATE TABLE t1;
DROP VIEW v1;
DROP PROCEDURE p1;
DROP FUNCTION f1;
DROP TRIGGER tr1;
DROP TABLE t1, t2, t3;
SET sql_mode=@old_sql_mode;
SET time_zone = @old_time_zone;