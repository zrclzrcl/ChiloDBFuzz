SET @old_sql_mode=@@sql_mode;
SET sql_mode='STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';
SET @SESSION.sql_warnings=TRUE;
CREATE TABLE t1 (
  id INT PRIMARY KEY AUTO_INCREMENT,
  a INT,
  b VARCHAR(255),
  c DATE
);
INSERT INTO t1 (a, b, c) VALUES (1, 'test1', '2023-01-01'), (2, 'test2', '2023-02-01'), (3, 'test3', '2023-03-01');
CREATE INDEX idx_a ON t1 (a);
ALTER TABLE t1 ADD COLUMN d TEXT;
UPDATE t1 SET d = REPEAT('A', 100) WHERE id = 1;
SELECT * FROM t1 WHERE a > 1 AND b LIKE 'test%';
EXPLAIN SELECT * FROM t1 WHERE a = 2;
SHOW INDEX FROM t1;
SHOW CREATE TABLE t1;
ANALYZE TABLE t1;
CREATE VIEW v1 AS SELECT a, b FROM t1 WHERE a > 1;
SELECT * FROM v1;
DROP VIEW v1;
INSERT INTO t1 (a, b, c) VALUES (NULL, 'test4', '2023-04-01');
SELECT * FROM t1 WHERE a IS NULL;
DELETE FROM t1 WHERE a IS NULL;
ALTER TABLE t1 ADD FULLTEXT INDEX ft_b (b);
SELECT * FROM t1 WHERE MATCH (b) AGAINST ('test2');
DROP INDEX ft_b ON t1;
CREATE TEMPORARY TABLE tmp_t1 LIKE t1;
INSERT INTO tmp_t1 SELECT * FROM t1 WHERE a < 3;
SELECT * FROM tmp_t1;
DROP TEMPORARY TABLE tmp_t1;
SELECT SLEEP(0.1);
FLUSH TABLES t1;
RESET QUERY CACHE;
SET sql_mode=@old_sql_mode;